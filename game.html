<html>
	<head>
		<style>
			body{
			background-color:#000000;
			color:#FFFFFF;
			}
		</style>
		<script type="text/javascript">
			var $data_system = load_data("system");
			var $data_tilesets = load_data("tilesets")
			
			var $game_map =new Game_Map($data_system.start_map_name);
			
			function Game_Map(map_name){
				self=this;
				this.start_map_name=map_name;
				this.map = load_data(self.start_map_name);
			}
			
			function load_data(a){
				var request = new XMLHttpRequest();
				request.open("GET", "json/"+a+".json" ,false);
				request.send(null);
				return JSON.parse(request.responseText);
			}
			var loaded=0,to_be_loaded=0 , scripts=["init"], images=["shadowrun.png"];
			to_be_loaded+=scripts.length;
			for (var i=0;i < scripts.length;i++){
				load_script(scripts[i]);
			}
			
			for (var i=0;i < images.length;i++){
				load_image(images[i]);
			}
			
			function load_image(a,callback){
				var image=new Image();
				image.onload=function(){
					loaded++
					if(typeof(callback)=="function")callback();
				}
				image.src="imagens/"+a;
			}
			function load_script(a,callback){
				var script=document.createElement("script");
				script.onload=function(){
					loaded++;
					if(typeof(callback)=="function")callback();
				}
				script.src="js/"+a+".js";
				document.head.appendChild(script);
			}
		</script>
	</head>
	<body>
		<table id="loading_screen"width="100%" border="0" height="100%" 
		style='position:absolute;top:0px;left:0px;'>
			<tr>
				<td>
					<div align="center">
						
					</div>
				</div>
			</div>
		</td>
	</tr>
</table>
</body>
</html>